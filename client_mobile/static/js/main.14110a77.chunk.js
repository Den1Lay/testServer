(this.webpackJsonpremind2=this.webpackJsonpremind2||[]).push([[0],{183:function(e,t,a){},186:function(e,t,a){},187:function(e,t,a){},188:function(e,t,a){},189:function(e,t,a){},190:function(e,t,a){},191:function(e,t,a){},192:function(e,t,a){},193:function(e,t,a){},194:function(e,t,a){},195:function(e,t,a){},196:function(e,t,a){},197:function(e,t,a){},198:function(e,t,a){},199:function(e,t,a){},200:function(e,t,a){},201:function(e,t,a){},202:function(e,t,a){},203:function(e,t,a){},204:function(e,t,a){},205:function(e,t,a){},206:function(e,t,a){"use strict";a.r(t);var n,c,o=a(0),s=a(30),r=a(10),i=a(8),l=a(113),d=a(40),u=(a(164),a(114)),g=a(65),j=a(125),h="ADD_TO_CART",b="CHECKOUT_REQUEST",m="CHECKOUT_SUCCESS",O="CHECKOUT_FAILURE",f="MICRO_EVENT",v="ADD_ELEMENT",p="PRIVATE_MSG",_="JOIN_TO_ROOM",x="GET_MSGS",E="INIT",N="PICK_DIALOG",S="SET_DIALOG_TAB_MOD",D="SET_SEARCH_PEOPLE",y="CREATE_NEW_DIALOG",w="CREATE_MESSAGE",k="SET_MESSAGE",M="SET_DIALOG",A={addedIds:[],quantityById:{}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.addedIds,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return-1!==e.indexOf(t.productId)?e:[].concat(Object(j.a)(e),[t.productId]);default:return e}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.quantityById,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:var a=t.productId;return Object(i.a)(Object(i.a)({},e),{},Object(g.a)({},a,(e[a]||0)+1));default:return e}},P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return A;case O:return t.cart;case m:return console.log("%c%s","color: red; font-size: 15px;","SUCCESS_SEND"),A;default:return{addedIds:I(e.addedIds,t),quantityById:C(e.quantityById,t)}}},T={products:(null===(n=window.localStorage)||void 0===n?void 0:n.testData)?JSON.parse(null===(c=window.localStorage)||void 0===c?void 0:c.testData):function(){var e=new RegExp("[.]|[,]","g"),t="Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.".replace(e,"").split(" "),a=[];function n(e,a){var c;if(c=e||t.splice(0,1)[0],Math.random()>.5&&t.length){var o=Math.floor(Math.min(5*Math.random(),t.length-1))+1,s=t.splice(0,o);a.push({name:c,type:"dir",payload:[]}),s.forEach((function(e){return n(e,a[a.length-1].payload)}))}else a.push({name:c,type:"target",payload:{A:Math.random(),B:Math.random(),C:Math.random()}})}for(;t.length;)n(null,a);var c={name:"main",type:"dir",payload:a};return window.localStorage.testData=JSON.stringify(c),c}()},R={elements:{}},G=Object(d.b)({productsEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case f:return e+n;default:return e}},microEls:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case v:return function(){var t=n.name,a=n.A,c=n.B,o=n.C;return e.elements.hasOwnProperty(t)?e.elements[t].count++:e.elements[t]={A:a,B:c,C:o,count:1},e}();default:return e}}}),H={room:"",lastMessage:{addres:"",message:""},v:"",dialogs:[],user:null,isAuth:!1,testUser:{_id:"222",loginName:"Ares",nickName:"Ares416",last_seen:Date.now(),online:!0},testDialogs:[{dialog:{_id:"416",author:{_id:"55555",loginName:"mainBuilder",nickName:"Hefest",last_seen:Date.now(),online:!1},partner:{_id:"222",loginName:"Ares",nickName:"Ares416",last_seen:Date.now(),online:!0}},messages:[{_id:"4444",text:"Pellentesque faucibus aliquam vehicula.",author:"55555",poll:"",createdAt:1622567732877,readed:!0},{_id:"777",text:"Etiam ex libero, suscipit eget ullamcorper et, iaculis ut quam. Aliquam a augue vitae dui dapibus placerat. ",author:"222",poll:"",createdAt:1622567732877,readed:!0},{_id:"4444",text:"Praesent finibus elit id nulla pharetra commodo. Mauris aliquet urna arcu. In hac habitasse platea dictumst.",author:"55555",poll:"",createdAt:1629479732877,readed:!0},{_id:"4444",text:"Maecenas eu consectetur nibh.",author:"55555",poll:"",createdAt:1629479732877,readed:!0},{_id:"4444",text:"Can you read lorem text?",author:"55555",poll:"",createdAt:Date.now(),readed:!0},{_id:"777",text:"That metall looks pretty good",author:"222",poll:"",createdAt:Date.now(),readed:!1}]}],choosenDialogId:null,readyMessengesData:[],dialogTabMod:"base",searchPeople:[],newDialogTargetId:null,messageData:{}};function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e,"$$").concat(Math.random())}function L(e,t){for(var a=e.messages.sort((function(e,t){var a=e.createdAt,n=t.createdAt;return new Date(a)>new Date(n)?1:-1})),n=[],c={mounth:null,day:null},o=-1;++o<a.length;){var s=a[o].createdAt,r=new Date(s),i={mounth:r.getMonth(),day:r.getDate()};c.mounth!==i.mounth||c.day!==i.day?(c=i,n.push({date:l(i),messages:[d(a[o],t)]})):n[n.length-1].messages.push(d(a[o],t))}return n;function l(e){var t=e.mounth,a=e.day;return"".concat(a," ").concat({0:"January ",1:"February",2:"March",3:"April",4:"May",5:"June",6:"Jule",7:"August",8:"September",9:"October",10:"November",11:"December"}[t+""])}function d(e,t){var a=e.text,n=e.author,c=e.createdAt,o=e.readed,s=new Date(c);return{time:"".concat(s.getHours(),":").concat(s.getMinutes()),text:a,isMe:n===t._id,readed:o}}}var q=Object(d.b)({cart:P,products:G,dialogs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case p:return function(){var t=n.msg,a=n.addres;return e.lastMessage={addres:a,message:t},e.v=U("m"),e}();case _:return function(){var t=n.room;return e.room=t,e.v=U("r"),e}();case x:return e.v=U("g"),e;case y:return function(){var t=n.userId;return e.newDialogTargetId=t,e.v=U("createDialog"),e}();case M:return function(){var t=n.dialog;return e.dialogs.push({dialog:t,messages:[]}),e.v=U(),e}();case w:return function(){var t=n.text,a=function(){for(var t=-1,a=-1;++a<e.dialogs.length;)if(e.choosenDialogId===e.dialogs[a].dialog._id){t=a;break}return e.dialogs[t].dialog}();return e.messageData={poll:a.poll,dialogId:a._id,userId:e.user._id,targetUserId:a.author._id===e.user._id?a.partner._id:a.author._id,text:t},e.v=U("createMessage"),e}();case k:return function(){for(var t=n.message,a=n.dialogId,c=-1,o=-1;++o<e.dialogs.length;)if(e.dialogs[o].dialog._id===a){c=o;break}return e.dialogs[c].messages.push(t),a===e.choosenDialogId&&(e.readyMessengesData=L(e.dialogs[c],e.user)),e.v=U(),e}();case E:return function(){var t=n.dialogs,a=n.user;return(e=Object(i.a)(Object(i.a)({},e),{},{dialogs:t,user:a,isAuth:!0})).v=U("init"),e}();case S:return function(){var t=n.mod;return"search"===t?(e.dialogTabMod="search",e.v=U("searchPeople")):"base"===t&&(e.dialogTabMod="base",e.v=U()),e}();case D:return function(){var t=n.data;return e.searchPeople=t,e.v=U(),e}();case N:return function(){var t=n._id,a=n.dialog;null!==a&&e.dialogs.push({dialog:a,messages:[]}),e.choosenDialogId=t;var c=function(e,t){for(var a=-1,n=-1;++n<e.length;)if(e[n].dialog._id===t){a=n;break}return a}(e.dialogs,t),o=L(e.dialogs[c],e.user);return e.readyMessengesData=o,e.v=U(),e}();default:return e}}}),z=a(60),V=a.n(z);V.a.defaults.baseURL=window.location.origin,V.a.defaults.headers.common.token=localStorage.token,window.axios=V.a;var B=V.a,J=function(e){return B.post("/auth/login",e)},F=function(e){return B.post("/auth/register",e)},W=function(){return B.post("/auth/check")},K=a(122),X=function(e){var t=e.type,a=e.title,n=e.description;K.a[t]({message:a,description:n})},Y=function(e){return e.charAt(0).toUpperCase()+e.substring(1)},$=function(e){return{type:E,payload:e}},Q=function(e){var t=e.status,a=e.token,n=e.data,c=e.message,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(e){"success"===t?(localStorage.token=a,window.axios.defaults.headers.common.token=a,X({type:t,title:Y(t),description:c}),console.log("ALIVE_EFFECTER"),e($(n))):(X({type:t,title:Y(t),description:c}),o&&delete localStorage.token)}},Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:N,payload:{_id:e,dialog:t}}},ee=[u.a];var te=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.c,ae=Object(d.d)(q,te(d.a.apply(void 0,ee))),ne=Object(l.io)(window.location.origin,{transports:["websocket","p"]});ne.on("connect",(function(e){ne.emit("MSG",{data:"pass",token:"123"})})).on("CLIENT_MSG",(function(e){console.log("%c%s","font-size: 22px; color: red;",e)})).on("RES_PRIVATE_MSG",(function(e){console.log("%c%s","font-size: 22px; color: navy;","PRIVATE_MSG"),console.log("Message:",e)})).on("RES_MSGS",(function(e){console.log("%c%s","font-size: 22px; color: aqua;","GET_MSGS"),console.log("Data:",e)})).on("RES_PEOPLE",(function(e){ae.dispatch(function(e){return{type:D,payload:{data:e}}}(e))})).on("RES_NEW_DIALOG",(function(e){var t=e.dialog;"me"===e.target?ae.dispatch(Z(t._id,t)):ae.dispatch(function(e){return{type:M,payload:{dialog:e}}}(t))})).on("RES_MESSAGE",(function(e){var t=e.message,a=e.dialogId;ae.dispatch(function(e,t){return{type:k,payload:{message:e,dialogId:t}}}(t,a))})).on("disconnect",(function(e){console.log("%c%s","font-size: 22px; color: crimson;","DISCON:"),console.log("Reason:",e)}));ae.subscribe((function(){var e=ae.getState().dialogs,t=e.lastMessage,a=t.addres,n=t.message,c=e.room,o=e.v,s=e.newDialogTargetId,r=e.messageData,l=localStorage.token;if(""!==o)switch(o.split("$$")[0]){case"r":ne.emit("JOIN_ROOM",{token:l,room:c},(function(e){console.log("%c%s","font-size: 22px; color: green;","SUCCESS_JOIN"),console.log("Rooms:",e)}));break;case"m":ne.emit("PRIVATE_MSG",{token:l,payload:{addres:a,message:n}},(function(e){console.log("%c%s","font-size: 22px; color: green;","SUCCESS_SEND_MSG"),console.log("%c%s","font-size: 22px; color: aqua;","LAST_ROOMS:",e)}));break;case"g":console.log("SUB"),ne.emit("GET_MSGS",{token:l});break;case"init":ne.emit("JOIN",{token:l},(function(e){console.log("%c%s","font-size: 22px; color: green;","SUCCESS_JOIN",e)}));break;case"searchPeople":ne.emit("GET_PEOPLE",{token:l});break;case"createDialog":ne.emit("CREATE_NEW_DIALOG",{token:l,newDialogTargetId:s});break;case"createMessage":ne.emit("CREATE_MESSAGE",Object(i.a)(Object(i.a)({},r),{},{token:l}))}}));var ce=ae,oe=a(19),se=a(16),re=a(127),ie=(a(183),a(1)),le=function(e){var t=Object(se.h)().pathname.split("/").splice(1);var a=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,a=[],n=-1,c="";++n<e.length;){var o="/".concat(e[n]);a.push({text:e[n],path:c+o}),c+=o}return a}();return Object(ie.jsx)("div",{className:"bread",children:a.map((function(e){var t=e.path,a=e.text;return Object(ie.jsx)("li",{className:"bread_links",children:Object(ie.jsx)(oe.b,{to:t,children:a})})}))})},de=function(e){return Object(ie.jsx)("div",{children:"Search"})},ue=a(5),ge=a.n(ue),je=(a(186),function(e){var t=e.onClick,a=e.text,n=e.src,c=void 0===n?null:n,o=e.type;console.log("RENDER_Target");var s=Object(se.g)(),r="".concat(s.location.pathname,"/").concat(a);return Object(ie.jsxs)("div",{className:ge()("target","target"===o&&"clickable"),onClick:function(){"dir"===o?s.push(r):t()},children:[c?Object(ie.jsx)("img",{src:c}):null,Object(ie.jsx)("div",{className:"target_text",children:a})]})}),he=a(210),be=(a(187),he.a.CheckableTag),me=function(e){var t=e.fValue,a=e.sValue,n=e.fHandl,c=e.sHandl,o=e.checkParam;return Object(ie.jsxs)("div",{className:"checkTags",children:[Object(ie.jsx)(be,{onClick:function(){return!o&&n()},checked:o,children:t}),Object(ie.jsx)(be,{onClick:function(){return o&&c()},checked:!o,children:a})]})},Oe=(a(188),function(e){var t=e.text,a=e.time,n=e.isMe,c=void 0===n||n,o=e.readed,s=void 0!==o&&o,r=c?"-isMe":"-isPartner";return Object(ie.jsxs)("section",{className:ge()("message","message".concat(r)),children:[Object(ie.jsxs)("div",{className:ge()("message__cloud","message__cloud".concat(r)),children:[Object(ie.jsx)("div",{className:"message__cloud_payload",children:t}),Object(ie.jsx)("div",{className:ge()("message__cloud_time","message__cloud_time".concat(r)),children:a})]}),c&&!s?Object(ie.jsx)("div",{className:"message__unreaded",children:""}):null]})}),fe=(a(189),function(e){var t=e.date,a=void 0===t?"13 February":t;return Object(ie.jsx)("section",{className:"dateElement",children:Object(ie.jsx)("div",{className:"dateElement__target",children:a})})}),ve=(a(190),function(e){return Object(ie.jsxs)("section",{className:"cPHeader",children:[Object(ie.jsx)("div",{className:"cPHeader_rightSpace"}),Object(ie.jsx)("div",{className:"cPHeader__main",children:Object(ie.jsx)(le,{})}),Object(ie.jsx)("div",{className:"cPHeader_rightSpace",children:Object(ie.jsx)(oe.b,{to:"/result",children:"Result"})})]})}),pe=a(21),_e=(a(191),Object(r.b)((function(e,t){var a=e.products;return{productsEvents:t.link?{products:!1}:a.productsEvents}}),{addElement:function(e){return{type:v,payload:e}}})((function e(t){var a=t.productsEvents,n=void 0===a?{}:a,c=t.rightPass,s=void 0!==c&&c,r=(t.link,t.addElement),l=(null===n||void 0===n?void 0:n.products)||null;s||(s=l);var d=Object(o.useState)(null),u=Object(pe.a)(d,2),g=u[0],j=u[1],h=Object(se.h)().pathname;null===g&&j(s.payload.map((function(t,a){var n=t.name;return"dir"===t.type?Object(ie.jsx)(se.b,{path:"".concat(h,"/").concat(n),children:Object(ie.jsx)(e,{rightPass:s.payload[a],link:n,addElement:r})}):null})));return Object(ie.jsxs)(ie.Fragment,{children:[s.name===function(e){var t=e.split("/");return t[t.length-1]}(h)?Object(ie.jsx)("div",{className:"chooseBoard",children:s.payload.map((function(e){var t=e.name,a=e.type,n=e.payload;return Object(ie.jsx)(je,{text:t,type:a,onClick:function(){return r(Object(i.a)({name:t},n))}})}))}):null,Object(ie.jsx)(se.d,{children:g})]})}))),xe=a(123),Ee=a(209),Ne=a(124),Se=(a(192),{createUser:function(e){return function(t){F(e).then((function(e){var a=e.data;console.log("%c%s","font-size: 22px; color: navy;","SERVER_RES"),console.log("RES_DEST:",a),Q(a)(t)})).catch((function(e){console.log("%c%s","color: red;font-size:22px;","AXIOS_REGISTER_ERR:",e)}))}},loginUser:function(e){return function(t){J(e).then((function(e){var a=e.data;console.log("%c%s","font-size: 22px; color: navy;","SERVER_RES"),console.log("RES:",a),Q(a)(t)})).catch((function(e){console.log("%c%s","color: red;font-size:22px;","AXIOS_LOGIN_ERR:",e)}))}},checkAuth:function(){return function(e){W().then((function(t){var a=t.data;console.log("%c%s","font-size: 22px; color: navy;","SERVER_RES"),console.log("RES_CHECK:",a),Q(a,!0)(e)})).catch((function(e){console.log("%c%s","color: red;font-size:22px;","AXIOS_AUTO_LOGIN_ERR:",e)}))}}}),De=Object(r.b)((function(e){return{isAuth:e.dialogs.isAuth}}),Se)((function(e){var t=e.isAuth,a=e.createUser,n=e.loginUser,c=e.checkAuth,s=Object(se.g)(),r=Object(se.h)(),l=Object(o.useState)("create"),d=Object(pe.a)(l,2),u=d[0],g=d[1],j=Object(o.useState)({nickName:"",password:"",passwordConfirm:""}),h=Object(pe.a)(j,2),b=h[0],m=h[1],O=b.nickName,f=b.password,v=b.passwordConfirm;Object(o.useEffect)((function(){var e;return(null===(e=localStorage)||void 0===e?void 0:e.token)&&!t&&c(),t&&function(){var e=(r.state||{from:{pathname:"/test"}}).from;s.replace(e)}(),function(){}}));var p={fValue:"LOGIN",sValue:"CREATE NEW",fHandl:function(){return g("login")},sHandl:function(){return g("create")},checkParam:"login"===u};return Object(ie.jsxs)("div",{className:"login",children:[Object(ie.jsx)("div",{className:"login__checkTags",children:Object(ie.jsx)(me,Object(i.a)({},p))}),Object(ie.jsx)("div",{className:"login__form",children:Object(ie.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=!1;f.length<3&&(t=!0,xe.b.error("Password too short",3)),O.length<3&&(t=!0,xe.b.error("Nickname too short",3)),"create"===u?(v!==f&&(t=!0,xe.b.error("Passwords are not equal",3)),!t&&a(b)):!t&&n(b)},children:[Object(ie.jsx)("div",{className:ge()("formElement"),children:Object(ie.jsx)(Ee.a,{placeholder:"Nickname",onChange:function(e){return m(Object(i.a)(Object(i.a)({},b),{},{nickName:e.target.value}))},value:O})}),Object(ie.jsx)("div",{className:ge()("formElement"),children:Object(ie.jsx)(Ee.a.Password,{placeholder:"Password",onChange:function(e){return m(Object(i.a)(Object(i.a)({},b),{},{password:e.target.value}))},value:f})}),"create"===u&&Object(ie.jsx)("div",{className:ge()("formElement"),children:Object(ie.jsx)(Ee.a.Password,{placeholder:"Password confirm",onChange:function(e){return m(Object(i.a)(Object(i.a)({},b),{},{passwordConfirm:e.target.value}))},value:v})}),Object(ie.jsx)("div",{className:ge()("formElement","login__form_submit"),children:Object(ie.jsx)(Ne.a,{onClick:function(e){return console.log("click")},htmlType:"submit",children:"SEND DATA"})})]})})]})})),ye=(a(193),function(e){var t=e.imgPlug,a=e.name,n=e.messange,c=e.infoCount,o=e.online,s=e.messageDls,r=e.authorIsYou,i=e.isSearchPeopleMod,l=void 0!==i&&i,d=e.isChoosen,u=e.clickHandler;return Object(ie.jsxs)("section",{className:ge()("dialog",d?"dialog__isChoosen":null),onClick:u,children:[Object(ie.jsxs)("div",{className:"dialog__leftPart",children:[Object(ie.jsx)("div",{className:"dialog__leftPart_imgPlug",children:t}),o&&Object(ie.jsx)("div",{className:"dialog__leftPart_online",children:""})]}),Object(ie.jsxs)("div",{className:"dialog__rightPart",children:[Object(ie.jsx)("div",{className:"dialog__rightPart_name",children:a}),l?null:Object(ie.jsxs)("div",{className:"dialog__rightPart_message",children:[Object(ie.jsx)("div",{className:"dialog__rightPart_message-payload",children:Object(ie.jsx)(Me,{text:"".concat(r?"You: ":"").concat(n)})}),Object(ie.jsx)("div",{className:"infoCountWrapper",children:Object(ie.jsx)("div",{className:"dialog__rightPart_message".concat(s),children:c})})]})]})]})}),we=Object(r.b)((function(e){return{}}),{})((function(e){var t,a=e.dialog,n=e.messages,c=e.me,o=e.choosenId,s=e.onClick,r=a.author._id===c._id?a.partner:a.author,l=a._id===o;if(n.length){var d=n[n.length-1].readed,u=n[n.length-1].author===c._id,g={0:{0:"-infoCount",1:"-none"},1:{0:"-unreaded",1:"-none"}}[+u][+d];t={imgPlug:r.nickName[0],name:r.nickName,messange:n[n.length-1].text,infoCount:"-infoCount"===g?function(){for(var e=n.reverse(),t=0,a=!1;!a&&t<e.length;)e[t].readed?a=!0:t++;return t>=10?"9+":t}():null,online:r.online,authorIsYou:u,messageDls:g,isChoosen:l}}else t={imgPlug:r.nickName[0],name:r.nickName,messange:"",infoCount:null,online:r.online,authorIsYou:!1,messageDls:"-none",isChoosen:l};return Object(ie.jsx)(ye,Object(i.a)(Object(i.a)({},t),{},{clickHandler:function(){return!l&&s(a._id)}}))})),ke=Object(r.b)((function(e){return{}}),{})((function(e){var t=e.user,a=e.choosenUserId,n=e.onClick,c=t,o=t._id===a,s={imgPlug:c.nickName[0],name:c.nickName,clickHandler:function(){return!o&&n(c._id)},online:c.online,isSearchPeopleMod:!0,isChoosen:o};return Object(ie.jsx)(ye,Object(i.a)({},s))})),Me=(a(194),function(e){var t=e.text,a=Object(o.useRef)(null),n=Object(o.useRef)(null),c=Object(o.useState)(null),s=Object(pe.a)(c,2),r=s[0],l=s[1],d=Object(o.useState)({payload:t,ready:!1,changed:!1}),u=Object(pe.a)(d,2),g=u[0],j=u[1];return Object(o.useEffect)((function(){r!==t&&(l(t),j({payload:t,ready:!1,changed:!1}));var e=a.current.clientHeight,c=n.current.clientHeight,o=g.payload,s=g.ready,d=g.changed;if(c>e){var u=o.substring(0,.85*o.length/(c/e));j(Object(i.a)(Object(i.a)({},g),{},{payload:u,changed:!0}))}else if(!s){var h=o;h=d?"".concat(h.substring(0,o.length-3),"..."):h,j(Object(i.a)(Object(i.a)({},g),{},{payload:h,ready:!0}))}})),Object(ie.jsx)("div",{ref:a,className:"textReducer",children:Object(ie.jsx)("div",{ref:n,className:"textReducer__target",children:g.payload})})}),Ae=(a(195),function(e){e.microEvent;return Object(ie.jsxs)("section",{className:"cPMain",children:[Object(ie.jsx)("div",{className:"cPMain_leftSpace"}),Object(ie.jsxs)("div",{className:"cPMain_main",children:[Object(ie.jsx)(de,{}),Object(ie.jsx)(_e,{})]}),Object(ie.jsx)("div",{className:"cPMain_rightSpace"})]})}),Ie=(a(196),["microEvent"]),Ce=Object(r.b)((function(e){return Object(i.a)({},e)}),{microEvent:function(){return{type:f,payload:Math.random()}}})((function(e){e.microEvent;var t=Object(re.a)(e,Ie);return console.log("ANO_DEBUG: ",t),Object(ie.jsxs)("section",{className:"choosePage",children:[Object(ie.jsx)(ve,{}),Object(ie.jsx)(Ae,{})]})})),Pe=function(e){return Object(ie.jsx)("div",{children:"Preview mobile"})},Te=Object(r.b)((function(e){return{elements:e.products.microEls.elements}}))((function(e){for(var t=e.elements,a=[],n=-1,c=Object.keys(t);++n<c.length;)a.push(Object(ie.jsx)("div",{children:"".concat(c[n])}));return Object(ie.jsxs)("div",{children:["Result",Object(ie.jsx)(oe.b,{to:"/main",children:"Main"}),a]})})),Re=(a(197),{privateMsg:function(e){return{type:p,payload:e}},joinToRoom:function(e){return{type:_,payload:e}},getMsgs:function(){return{type:x}}}),Ge=Object(r.b)((function(e){return{isAuth:e.dialogs.isAuth}}),Re)((function(e){var t=e.isAuth,a=e.privateMsg,n=e.joinToRoom,c=e.getMsgs,s=Object(o.useState)("Hey, Zues"),r=Object(pe.a)(s,2),i=r[0],l=r[1],d=Object(o.useState)("Olimpia"),u=Object(pe.a)(d,2),g=u[0],j=u[1];var h=Object(o.useState)("Olimpia"),b=Object(pe.a)(h,2),m=b[0],O=b[1];return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsxs)("section",{className:"testPage",children:[Object(ie.jsxs)("div",{className:"testPage_msg",children:[Object(ie.jsx)("input",{value:i,onChange:function(e){return l(e.target.value)},placeholder:"Msg"}),Object(ie.jsx)("input",{value:g,onChange:function(e){return j(e.target.value)},placeholder:"Addres"}),Object(ie.jsx)("button",{onClick:function(){a({msg:i,addres:g})},children:"SEND"})]}),Object(ie.jsxs)("div",{className:"testPage_msg",children:[Object(ie.jsx)("input",{value:m,onChange:function(e){return O(e.target.value)},placeholder:"Room"}),Object(ie.jsx)("button",{onClick:function(){n({room:m})},children:"JOIN"})]}),Object(ie.jsx)("div",{children:Object(ie.jsx)("button",{onClick:function(){console.clear(),c()},children:"GET_MSGS"})})]}),!t&&Object(ie.jsx)(se.a,{to:"/login"})]})}));a(198);var He=Object(r.b)((function(e){return{isAuth:e.dialogs.isAuth}}))((function(e){return e.isAuth,Object(ie.jsxs)("section",{className:"loginPage",children:[Object(ie.jsx)(oe.b,{to:"/test",children:"/Test"}),Object(ie.jsx)(De,{})]})})),Ue=(a(199),Ee.a.TextArea),Le={createMessage:function(e){return{type:w,payload:{text:e}}}},qe=Object(r.b)((function(e){var t=e.dialogs;return{choosenDialogId:t.choosenDialogId,readyMessengesData:t.readyMessengesData,dialogs:t.dialogs,newDialogTargetId:t.newDialogTargetId}}),Le)((function(e){var t=e.choosenDialogId,a=e.readyMessengesData,n=(e.dialogs,e.newDialogTargetId,e.createMessage),c=Object(o.useState)(""),s=Object(pe.a)(c,2),r=s[0],l=s[1],d=null!==t;var u=function(){var e=[];return a.forEach((function(t){var a=t.date,n=t.messages;e.push(Object(ie.jsx)(fe,{date:a})),n.forEach((function(t){e.push(Object(ie.jsx)(Oe,Object(i.a)({},t)))}))})),e}();return Object(ie.jsxs)("section",{className:"chat",children:[Object(ie.jsx)("div",{className:"chat__main",children:Object(ie.jsx)("div",{className:ge()("chat__main_wrapper",d?null:"chat__main_wrapper-help"),children:d?u:"Pick dialog"})}),Object(ie.jsxs)("div",{className:"chat__inputArea",children:[Object(ie.jsx)("div",{className:"chat__inputArea_textArea",children:Object(ie.jsx)(Ue,{autoSize:!0,onChange:function(e){return l(e.target.value)},value:r})}),Object(ie.jsx)("div",{className:"chat__inputArea_button",children:Object(ie.jsx)(Ne.a,{onClick:function(){d&&(n(r),l(""))},children:"Send"})})]})]})})),ze=(a(200),{pickDialog:Z,createNewDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:y,payload:{userId:e}}}}),Ve=Object(r.b)((function(e){var t=e.dialogs;return{dialogs:t.dialogs,user:t.user,dialogTabMod:t.dialogTabMod,searchPeople:t.searchPeople,choosenDialogId:t.choosenDialogId,v:t.v}}),ze)((function(e){var t=e.dialogs,a=e.user,n=e.dialogTabMod,c=e.searchPeople,o=e.choosenDialogId,s=(e.v,e.pickDialog),r=e.createNewDialog,l=(Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),Date.now(),function(e){return s(e)}),d=t.map((function(e){return Object(ie.jsx)(we,Object(i.a)(Object(i.a)({},e),{},{me:a,onClick:l,choosenId:o}))})),u=d.length,g=function(e){var a="";t.some((function(t){var n=t.dialog,c=n.author,o=n.partner,s=n._id;if(c._id===e||o._id===e)return a=s,!0}))?s(a):r(e)},j=function(){for(var e=null,n=-1;++n<t.length;){var c=t[n].dialog,s=c.author,r=c.partner;c._id===o&&(e=s._id===a._id?r._id:s._id)}return e}(),h=c.map((function(e){return e._id!==a._id?Object(ie.jsx)(ke,{user:e,onClick:g,choosenUserId:j}):null}));return console.log("DIALOGS_COMPONENT:",d),Object(ie.jsx)("section",{className:"dialogsTab",children:"search"===n?Object(ie.jsx)("div",{className:"dialogsTab__wrapper",children:h}):Object(ie.jsx)("div",{className:ge()("dialogsTab__wrapper",u?null:"dialogsTab__wrapper-help"),children:u?d:"Find some-body"})})})),Be=(a(201),Object(r.b)((function(e){return{}}),{})((function(e){return Object(ie.jsx)("section",{className:"navigation",children:"Navigator mobile"})}))),Je=(a(202),Object(r.b)((function(e){return{}}),{})((function(e){return Object(ie.jsxs)("section",{className:"chatHeader",children:[Object(ie.jsxs)("div",{className:"chatHeader__leftPart",children:[Object(ie.jsx)("div",{className:"chatHeader__leftPart_partnerName",children:"Hefest"}),Object(ie.jsx)("div",{className:"chatHeader__leftPart_lastSeenDate",children:"last seen"})]}),Object(ie.jsx)("div",{className:"chatHeader__rightPart",children:""})]})}))),Fe=a(79),We=(a(203),{setDialogTabMod:function(e){return{type:S,payload:{mod:e}}}}),Ke=Object(r.b)((function(e){return{dialogTabMod:e.dialogs.dialogTabMod}}),We)((function(e){var t=e.dialogTabMod,a=e.setDialogTabMod,n=Object(o.useState)(""),c=Object(pe.a)(n,2),s=c[0],r=c[1];var i="search"===t;return Object(ie.jsxs)("section",{className:"dialogsSearch",children:[Object(ie.jsx)(Ee.a,{placeholder:"Search persons",bordered:!1,onFocus:function(e){a("search"),console.log("Focuse_ev:",e)},onChange:function(e){r(e.target.value)},value:s,onPressEnter:function(e){return console.log("PRESS_ENTER")}}),Object(ie.jsx)("div",{className:"dialogsSearch__stopSearch",children:i?Object(ie.jsx)("div",{className:"dialogsSearch__stopSearch_icon",onClick:function(e){a("base"),r("")},children:Object(ie.jsx)(Fe.a,{})}):null})]})})),Xe=(a(204),Object(r.b)((function(e){return{isAuth:e.dialogs.isAuth}}),{})((function(e){var t=e.isAuth,a=Object(se.h)();return Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)("section",{className:"messangerPage",children:Object(ie.jsxs)("div",{className:"messangerPage_main",children:[Object(ie.jsx)("div",{className:"messangerPage_main__header",children:Object(ie.jsx)(Be,{})}),Object(ie.jsxs)("div",{className:"messangerPage_main__chat",children:[Object(ie.jsxs)("div",{className:"messangerPage_main__chat-left",children:[Object(ie.jsx)(Ke,{}),Object(ie.jsx)(Ve,{})]}),Object(ie.jsxs)("div",{className:"messangerPage_main__chat-right",children:[Object(ie.jsx)(Je,{}),Object(ie.jsx)(qe,{})]})]})]})}),!t&&Object(ie.jsx)(se.a,{to:{pathname:"/login",state:{from:a.pathname}}})]})}))),Ye=(a(205),function(){return Object(ie.jsx)("div",{className:"pageWrapper",children:Object(ie.jsx)(oe.a,{children:Object(ie.jsxs)(se.d,{children:[Object(ie.jsx)(se.b,{exact:!0,path:"/",children:Object(ie.jsx)(Pe,{})}),Object(ie.jsx)(se.b,{exact:!0,path:"/result",children:Object(ie.jsx)(Te,{})}),Object(ie.jsx)(se.b,{path:"/main",children:Object(ie.jsx)(Ce,{})}),Object(ie.jsx)(se.b,{exact:!0,path:"/dude/*",children:Object(ie.jsx)("div",{children:"hey dude"})}),Object(ie.jsx)(se.b,{exact:!0,path:"/test",children:Object(ie.jsx)(Ge,{})}),Object(ie.jsx)(se.b,{exact:!0,path:"/login",children:Object(ie.jsx)(He,{})}),Object(ie.jsx)(se.b,{exact:!0,path:"/messenger",children:Object(ie.jsx)(Xe,{})})]})})})});Object(s.render)(Object(ie.jsx)(r.a,{store:ce,children:Object(ie.jsx)(Ye,{})}),document.getElementById("root"))}},[[206,1,2]]]);
//# sourceMappingURL=main.14110a77.chunk.js.map